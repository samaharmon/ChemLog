<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChemLog - Capital City Aquatics</title>
    <link rel="stylesheet" href="style.css">
    
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ChemLog">
    <meta name="theme-color" content="69140e">
    <meta name="msapplication-navbutton-color" content="#69140e">
    <meta name="msapplication-TileColor" content="#69140e">
    
    <link rel="icon" type="image/png" href="Logos/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="Logos/favicon.svg" />
    <link rel="shortcut icon" href="Logos/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="Logos/apple-touch-icon.png" />
    <link rel="manifest" href="Utilities/site.webmanifest" />
    
</head>

<body>

    <div id="mainForm">
        <div class="header">
            <div class="header-content">
                <div class="header-left">
                    <div>
                        <h1>ChemLog</h1>
                        <p>Capital City Aquatics</p>
                    </div>
                    <div class="header-right">
                        <div> <img id="logo" src="Logos/logo.png"></div>
                    </div>
                    <button class="supervisor-login-btn">Supervisor Login</button>
                    </div>
            </div>
        </div>

        <div class="container">
            <div class="form-container">
                <div class="section">
                    <h2>Respondent Information</h2>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input type="text" id="firstName" name="firstName" placeholder="Type here" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input type="text" id="lastName" name="lastName" placeholder="Type here" required>
                        </div>
                    </div>
                    <div class="form-group full-width">
                        <label for="poolLocation">Which pool are you recording data for?</label>
                        <select id="poolLocation" name="poolLocation" required style="width: 70.5%;">
                            <option value="">Select</option>
                            <!-- Options will be injected by script.js -->
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-container">
                <div class="section">
                    <h2>Chemistry Log</h2>
                    
                    <div class="pool-section" id="mainPoolSection">
                        <h3>Main Pool</h3>
                        <div class="pool-section-content">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="mainPoolPH">What is the Main Pool pH?</label>
                                    <select id="mainPoolPH" name="mainPoolPH" required>
                                        <option value="">Select</option>
                                        <option value="< 7.0">< 7.0</option>
                                        <option value="7.0">7.0</option>
                                        <option value="7.2">7.2</option>
                                        <option value="7.4">7.4</option>
                                        <option value="7.6">7.6</option>
                                        <option value="7.8">7.8</option>
                                        <option value="8.0">8.0</option>
                                        <option value="> 8.0">> 8.0</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="mainPoolCl">What is the Main Pool Cl level?</label>
                                    <select id="mainPoolCl" name="mainPoolCl" required>
                                        <option value="">Select</option>
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="5">5</option>
                                        <option value="7.5">7.5</option>
                                        <option value="10">10</option>
                                        <option value="> 10">> 10</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pool-section" id="secondaryPoolSection">
                        <h3>Secondary Pool</h3>
                        <div class="pool-section-content">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="secondaryPoolPH">What is the Secondary Pool pH?</label>
                                    <select id="secondaryPoolPH" name="secondaryPoolPH" required>
                                        <option value="">Select</option>
                                        <option value="< 7.0">< 7.0</option>
                                        <option value="7.0">7.0</option>
                                        <option value="7.2">7.2</option>
                                        <option value="7.4">7.4</option>
                                        <option value="7.6">7.6</option>
                                        <option value="7.8">7.8</option>
                                        <option value="8.0">8.0</option>
                                        <option value="> 8.0">> 8.0</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="secondaryPoolCl">What is the Secondary Pool Cl level?</label>
                                    <select id="secondaryPoolCl" name="secondaryPoolCl" required>
                                        <option value="">Select</option>
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="5">5</option>
                                        <option value="7.5">7.5</option>
                                        <option value="10">10</option>
                                        <option value="> 10">> 10</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pool 3 -->
                    <div class="pool-section hidden" id="pool3Section">
                        <h3>Pool 3</h3>
                        <div class="pool-section-content">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="pool3PH">What is Pool 3 pH?</label>
                                    <select id="pool3PH" name="pool3PH">
                                        <option value="">Select</option>
                                        <option value="< 7.0">< 7.0</option>
                                        <option value="7.0">7.0</option>
                                        <option value="7.2">7.2</option>
                                        <option value="7.4">7.4</option>
                                        <option value="7.6">7.6</option>
                                        <option value="7.8">7.8</option>
                                        <option value="8.0">8.0</option>
                                        <option value="> 8.0">> 8.0</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="pool3Cl">What is Pool 3 Cl level?</label>
                                    <select id="pool3Cl" name="pool3Cl">
                                        <option value="">Select</option>
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="5">5</option>
                                        <option value="7.5">7.5</option>
                                        <option value="10">10</option>
                                        <option value="> 10">> 10</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pool 4 -->
                    <div class="pool-section hidden" id="pool4Section">
                        <h3>Pool 4</h3>
                        <div class="pool-section-content">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="pool4PH">What is Pool 4 pH?</label>
                                    <select id="pool4PH" name="pool4PH">
                                        <option value="">Select</option>
                                        <option value="< 7.0">< 7.0</option>
                                        <option value="7.0">7.0</option>
                                        <option value="7.2">7.2</option>
                                        <option value="7.4">7.4</option>
                                        <option value="7.6">7.6</option>
                                        <option value="7.8">7.8</option>
                                        <option value="8.0">8.0</option>
                                        <option value="> 8.0">> 8.0</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="pool4Cl">What is Pool 4 Cl level?</label>
                                    <select id="pool4Cl" name="pool4Cl">
                                        <option value="">Select</option>
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="5">5</option>
                                        <option value="7.5">7.5</option>
                                        <option value="10">10</option>
                                        <option value="> 10">> 10</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pool 5 -->
                    <div class="pool-section hidden" id="pool5Section">
                        <h3>Pool 5</h3>
                        <div class="pool-section-content">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="pool5PH">What is Pool 5 pH?</label>
                                    <select id="pool5PH" name="pool5PH">
                                        <option value="">Select</option>
                                        <option value="< 7.0">< 7.0</option>
                                        <option value="7.0">7.0</option>
                                        <option value="7.2">7.2</option>
                                        <option value="7.4">7.4</option>
                                        <option value="7.6">7.6</option>
                                        <option value="7.8">7.8</option>
                                        <option value="8.0">8.0</option>
                                        <option value="> 8.0">> 8.0</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="pool5Cl">What is Pool 5 Cl level?</label>
                                    <select id="pool5Cl" name="pool5Cl">
                                        <option value="">Select</option>
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="5">5</option>
                                        <option value="7.5">7.5</option>
                                        <option value="10">10</option>
                                        <option value="> 10">> 10</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button type="submit" id="submitBtn" class="submit-btn">Submit</button>
                    <p> Note: Your name, selected pool, and chemical log data will be stored securely for internal use by supervisors. This information is not shared outside the organization.</p>
                </div>
            </div>
        </div>

        <div class="footer">
            <em>September 2025<br>v3.1</em>
        </div>
    </div> <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Supervisor Login</h2>
                <span class="close" onclick="closeLoginModal()">&times;</span>
            </div>
            <form id="loginForm" class="modal-form">
                <div class="form-group">
                    <label for="email">Username</label>
                    <input type="text" id="inputEmail" name="email" style="width: 100%;" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" style="width: 100%;" required>
                </div>
                <button type="submit" class="login-btn">Login</button>
            </form>
        </div>
    </div> <div id="supervisorDashboard">
        <div class="header">
            <div class="header-content">
                <div class="header-left">
                    <div>
                        <h1>ChemLog</h1>
                        <p>Capital City Aquatics</p>
                    </div>
                    <div class="menu-container">
                        <button class="menu-btn" id="menuButton" onclick="toggleMenu()">
                            <span>≡</span>
                            <span>Menu</span>
                        </button>
                        <div class="dropdown-menu" id="dropdownMenu">
                            <a href="#" class="dropdown-item" onclick="openSettings()">Settings</a>
                            <a href="#" class="dropdown-item" onclick="goToDashboard()">Supervisor Dashboard</a>
                            <a href="#" class="dropdown-item logout" onclick="logout()">Logout</a>
                        </div>
                    </div>
                </div>
                <div class="header-right">
                    <div> <img id="logo" src="Logos/logo.png"></div>
                </div>
            </div>
        </div>

        <div class="container" style="max-width: calc(100vw - 100px);">
            <div class="dashboard-controls">
                <div class="form-group" style="flex: none; width: 200px;">
                    <label for="poolFilter">Filter by Pool:</label>
                    <select id="poolFilter" class="button-shadow" onchange="filterData()" style="width: 99.999%">
                        <option value="">All Pools</option>
                        <option value="Camden CC">Camden CC</option>
                        <option value="Columbia CC">Columbia CC</option>
                        <option value="Forest Lake">Forest Lake</option>
                        <option value="CC of Lexington">CC of Lexington</option>
                        <option value="Quail Hollow">Quail Hollow</option>
                        <option value="Rockbridge">Rockbridge</option>
                        <option value="Wildewood">Wildewood</option>
                        <option value="Winchester">Winchester</option>
                    </select>
                </div>
                <div class="form-group" style="flex: none; width: 50px">
                    <label for="dateFilter">Date:</label>
                    <input type="date" class="button-shadow" id="dateFilter" onchange="filterData()">
                </div>
            </div>

            <h3>Main Pool Chemistry</h3>
            <table class="data-table" id="dataTable1">
                <thead>
                    <tr>
                        <th>Timestamp</th>
                        <th>Pool Location</th>
                        <th>Main Pool pH</th>
                        <th>Main Pool Cl</th>
                    </tr>
                </thead>
                <tbody id="dataTableBody1">
                </tbody>
            </table>

            <h3>Secondary Pool Chemistry</h3>
            <table class="data-table" id="dataTable2">
                <thead>
                    <tr>
                        <th>Timestamp</th>
                        <th>Pool Location</th>
                        <th>Secondary Pool pH</th>
                        <th>Secondary Pool Cl</th>
                    </tr>
                </thead>
                <tbody id="dataTableBody2">
                </tbody>
            </table>

            <div class="pagination" id="pagination" style="margin-top: 30px;">
                <button id="prevBtn" class="button-shadow" onclick="goToPreviousPage()">←</button>
                <span id="pageInfo" class="button-shadow"></span>
                <button id="nextBtn" class="button-shadow" onclick="goToNextPage()">→</button>
            </div>
        </div>
            <div class="footer">
                <em>Developed by Sam Harmon | 2025<br>v2.1</em>
            </div>
    </div> 
    <div id="settingsModal">
        <div class="modal-content settings-modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <span class="close" onclick="closeSettings()">&times;</span>
            </div>
            <div class="settings-section">
                <h3>Website Setup</h3>
                <button id="siteEditor" class="submit-btn" onclick="goToEditor()">Go to the Site Editor</button>
            </div>
            <div class="settings-section">
                <h3>Sanitation Methods</h3>
                <table class="sanitation-table">
                    <thead>
                        <tr>
                            <th>Pool Name</th>
                            <th>Bleach</th>
                            <th>Granular</th>
                        </tr>
                    </thead>
                    <tbody id="sanitationTableBody">
                        <!-- filled by script.js -->
                    </tbody>
                </table>
                <div id="sanitationControls" style="margin-top: 10px;">
                    <button id="editSanitationBtn" class="editAndSave">Edit</button>
                    <button id="saveSanitationBtn" class="editAndSave" disabled>Save</button>
                </div>
                <div class="settings-section">
                    <h3>Market</h3>
                    <p style="margin-top: 0; font-size: 0.9rem;">
                        Select which markets' pools are visible on the supervisor dashboard.
                    </p>
                    <br>
                    <div class="market-options">
                        <label class="market-option">
                            <input
                                type="checkbox"
                                class="market-filter-checkbox"
                                name="marketFilter"
                                value="Columbia"
                            >
                            Columbia
                        </label>
                        <label class="market-option">
                            <input
                                type="checkbox"
                                class="market-filter-checkbox"
                                name="marketFilter"
                                value="Greenville"
                            >
                            Greenville
                        </label>
                        <label class="market-option">
                            <input
                                type="checkbox"
                                class="market-filter-checkbox"
                                name="marketFilter"
                                value="Charlotte"
                            >
                            Charlotte
                        </label>
                        <label class="market-option">
                            <input
                                type="checkbox"
                                class="market-filter-checkbox"
                                name="marketFilter"
                                value="Charleston"
                            >
                            Charleston
                        </label>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Data Storage</h3>

                    <button id="clearAllData" class="submit-btn">Clear All Chemistry Log Data</button>
                    <br>
                    <button id="exportCsvBtn" class="submit-btn">Export Data to CSV</button>
                </div>
                <!-- Site Appearance Section -->
                    <div class="settings-section">
                    <h3>Site Appearance</h3>
                    <label class="theme-toggle">
                        <input type="checkbox" id="darkModeToggle" />
                        <span class="slider"></span>
                        Dark Mode
                    </label>
                </div>
            </div>
        </div>
    </div> <div id="feedbackModal" style="display: none; position: fixed; top: 20%; left: 50%; transform: translateX(-50%); z-index: 9999; padding: 20px; border-radius: 0px; box-shadow: 0 0 10px rgba(0,0,0,0.3); max-width: 400px; text-align: center;">
        <div id="modalContent" style="white-space: pre-wrap; font-size: 16px;"></div>
        <button onclick="closeModal()" style="margin-top: 15px; padding: 5px 15px; font-weight: bold;">X</button>
            <select id="smsRecipientSelect">
                <option value="">Choose recipient</option>
                <option value="+18644096231">Sam Harmon</option>
                <!--<option value="+18036738396">OTHER SUPERVISOR</option>-->
            </select>
            <button onclick="chooseAndSendSMS()">Send Text Message</button>
    </div> 

    <script type="module" src="script.js"></script>


</body>
</html>
